(function(t){function e(e){for(var o,r,i=e[0],c=e[1],l=e[2],d=0,f=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(f.length)f.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(o=!1)}o&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var o={},s={app:0},n=[];function r(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"4e67":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var o={};a.r(o),a.d(o,"loadData",(function(){return ie}));a("4de4"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",[a("v-container",[t.auth?a("appheader"):t._e(),a("v-main",[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{attrs:{auth:t.auth}})],1)],1)],1)],1)],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-app-bar",{staticClass:"hidden-sm-and-down",attrs:{color:"white",app:""}},[a("v-spacer",{staticClass:"ml-4"}),a("v-spacer"),a("v-tabs",[a("v-tab",{attrs:{to:"/"}},[a("v-toolbar-title",[t._v("Stock-Holders")])],1),a("v-tab",{attrs:{to:"portfolio"}},[t._v("Portfolio ")]),a("v-tab",{attrs:{to:"Stocks"}},[t._v("Stocks ")])],1),a("div",{staticClass:"header-btns-container"},[a("v-btn",{staticClass:"header-btn",attrs:{outlined:"",color:"indigo"},on:{click:t.endDay}},[t._v(" end day ")]),a("v-btn",{attrs:{color:"primary",dark:""},on:{click:t.saveData}},[t._v(" Save ")]),a("strong",{staticClass:"show-funds"},[t._v("Funds: "+t._s(t._f("currency")(t.funds)))])],1),a("v-spacer",{staticClass:"mr-4"})],1),a("v-app-bar",{staticClass:"hidden-md-and-up",attrs:{app:"",dark:"",color:"blue-grey darken-3"}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"show-funds"},[t._v("Funds: "+t._s(t._f("currency")(t.funds)))])],1),a("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item-group",{attrs:{"active-class":"deep-purple--text text--accent-4"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},[a("v-list-item",{on:{click:t.endDay}},[a("v-list-item-title",[t._v("end day")])],1),a("v-list-item",{on:{click:t.saveData}},[a("v-list-item-title",[t._v("Save")])],1)],1)],1)],1)],1)},c=[],l=a("5530"),u=a("2f62"),d=a("bc3a"),f=a.n(d),p=f.a.create({baseURL:"https://stock-traders-9ed14.firebaseio.com/"}),m={data:function(){return{drawer:!1,group:null}},watch:{group:function(){this.drawer=!1}},computed:{funds:function(){return this.$store.getters.funds}},methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])({randomizeStocks:"randomizeStocks",fetchData:"loadData"})),{},{endDay:function(){this.randomizeStocks()},saveData:function(){var t={funds:this.$store.getters.funds,stockPortfolio:this.$store.getters.stockPortfolio},e=this.$store.getters.user,a=this.$store.getters.token;p.put("/users/"+e+"/stocks.json?auth="+a,t),console.log(e)},loadData:function(){this.fetchData()}})},v=m,h=(a("8baf"),a("2877")),k=a("6544"),b=a.n(k),g=a("40dc"),y=a("5bc1"),w=a("8336"),S=a("8860"),V=a("da13"),_=a("1baa"),x=a("5d23"),I=a("f774"),T=a("2fa4"),C=a("71a3"),O=a("fe57"),q=a("2a7f"),D=Object(h["a"])(v,i,c,!1,null,null,null),P=D.exports;b()(D,{VAppBar:g["a"],VAppBarNavIcon:y["a"],VBtn:w["a"],VList:S["a"],VListItem:V["a"],VListItemGroup:_["a"],VListItemTitle:x["c"],VNavigationDrawer:I["a"],VSpacer:T["a"],VTab:C["a"],VTabs:O["a"],VToolbarTitle:q["a"]});var L={data:function(){return{}},components:{appheader:P},computed:{auth:function(){return this.$store.getters.isAuthenticated}}},j=L,E=(a("5c0b"),a("7496")),N=a("a523"),R=a("f6c4"),$=Object(h["a"])(j,n,r,!1,null,null,null),U=$.exports;b()($,{VApp:E["a"],VContainer:N["a"],VMain:R["a"]});var A=a("f309");s["a"].use(A["a"]);var F=new A["a"]({}),B=a("8c4f"),M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("h1",[t._v("Trade or view your portfolio")]),a("h4",[t._v("You may Save & Load our data")]),a("h4",[t._v("Click on 'End Day' to beguin a New Trading Day!")]),a("v-divider",{staticClass:"devider"}),a("p",[t._v("Your Funds: "+t._s(t._f("currency")(t.funds)))])],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.auth?t._e():a("app-register")],1)],1)],1)],1)},G=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-sheet",{staticClass:"form-wrapper",attrs:{elevation:"1",rounded:""}},[a("div",[a("v-tabs",{attrs:{"show-arrows":"","background-color":"deep-purple accent-4","icons-and-text":"",dark:"",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"purple darken-4"}}),a("v-tab",[a("v-icon",{attrs:{large:""}},[t._v(t._s(t.loginTab.icon))]),a("div",{staticClass:"caption py-1"},[t._v(t._s(t.loginTab.name))])],1),a("v-tab",[a("v-icon",{attrs:{large:""}},[t._v(t._s(t.registerTab.icon))]),a("div",{staticClass:"caption py-1"},[t._v(t._s(t.registerTab.name))])],1),a("v-tab-item",[a("v-card",{staticClass:"px-4"},[a("v-card-text",[a("v-form",{ref:"loginForm",attrs:{value:"loginValid"},model:{value:t.loginValid,callback:function(e){t.loginValid=e},expression:"loginValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:t.loginEmailRules,label:"E-mail",required:""},model:{value:t.loginEmail,callback:function(e){t.loginEmail=e},expression:"loginEmail"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],type:t.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.loginPassword,callback:function(e){t.loginPassword=e},expression:"loginPassword"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6",xsm:"12"}}),a("v-spacer"),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{"x-large":"",block:"",disabled:!t.loginValid,color:"success"},on:{click:t.loginValidate}},[t._v(" Login ")])],1)],1)],1)],1)],1)],1),a("v-tab-item",[a("v-card",{staticClass:"px-4"},[a("v-card-text",[a("v-form",{ref:"registerForm",attrs:{value:"registerValid"},model:{value:t.registerValid,callback:function(e){t.registerValid=e},expression:"registerValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{rules:[t.rules.required],label:"First Name",maxlength:"20",required:""},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{rules:[t.rules.required],label:"Last Name",maxlength:"20",required:""},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],type:t.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{block:"","append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.passwordMatch],type:t.show1?"text":"password",name:"input-10-1",label:"Confirm Password",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.verify,callback:function(e){t.verify=e},expression:"verify"}})],1),a("v-spacer"),a("v-col",{staticClass:"ml-auto",attrs:{cols:"12"}},[a("v-btn",{attrs:{block:"",disabled:!t.registerValid,color:"success"},on:{click:t.registerValidate}},[t._v("Register")])],1)],1)],1)],1)],1)],1)],1)],1)])},Y=[],z={computed:{passwordMatch:function(){var t=this;return function(){return t.password===t.verify||"Password must match"}}},methods:{loginValidate:function(){if(this.$refs.loginForm.validate()){var t={email:this.loginEmail,password:this.loginPassword};this.$store.dispatch("signIn",t)}},registerValidate:function(){if(this.$refs.registerForm.validate()){var t={email:this.email,password:this.password,firstName:this.firstName,lastName:this.lastName,stocks:""};this.$store.dispatch("signUp",t)}},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}},data:function(){return{tab:0,loginTab:{name:"Login",icon:"mdi-account"},registerTab:{name:"Register",icon:"mdi-account-outline"},loginValid:!1,registerValid:!1,firstName:"",lastName:"",email:"",password:"",verify:"",loginPassword:"",loginEmail:"",loginEmailRules:[function(t){return!!t||"Required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],emailRules:[function(t){return!!t||"Required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],show1:!1,rules:{required:function(t){return!!t||"Required."},min:function(t){return t&&t.length>=8||"Min 8 characters"}}}}},Q=z,H=(a("fa31"),a("b0af")),W=a("99d9"),Z=a("62ad"),J=a("4bd4"),X=a("132d"),tt=a("0fd9"),et=a("8dd9"),at=a("c671"),ot=a("9a96"),st=a("8654"),nt=Object(h["a"])(Q,K,Y,!1,null,null,null),rt=nt.exports;b()(nt,{VBtn:w["a"],VCard:H["a"],VCardText:W["b"],VCol:Z["a"],VForm:J["a"],VIcon:X["a"],VRow:tt["a"],VSheet:et["a"],VSpacer:T["a"],VTab:C["a"],VTabItem:at["a"],VTabs:O["a"],VTabsSlider:ot["a"],VTextField:st["a"]});var it={props:["auth"],components:{appRegister:rt},computed:{funds:function(){return this.$store.getters.funds}}},ct=it,lt=(a("5db4"),a("ce7e")),ut=Object(h["a"])(ct,M,G,!1,null,null,null),dt=ut.exports;b()(ut,{VCol:Z["a"],VContainer:N["a"],VDivider:lt["a"],VRow:tt["a"]});var ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",t._l(t.stocks,(function(t,e){return a("app-stock",{key:e,attrs:{stock:t}})})),1)},pt=[],mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",outlined:""}},[a("v-list-item",{staticClass:"stock-card-title",attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.stock.name))]),a("v-list-item-subtitle",[t._v("(Price: "+t._s(t.stock.price)+" | Quantity: "+t._s(t.stock.quantity)+")")])],1)],1),a("v-card-actions",{staticClass:"align-center stock-card-actions py-8"},[a("v-text-field",{staticClass:"mr-4",attrs:{dense:"",type:"number",label:"Quantity",outlined:"","hide-details":"auto",rules:[t.rules.quantity]},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}}),a("v-spacer"),a("v-btn",{staticClass:"ml-5",attrs:{raised:"",color:"indigo accent-1",disabled:t.quantity<=0||Number.isInteger(t.quantity)||t.insufficianQuantity},on:{click:t.sellStock}},[t._v(" Sell ")])],1)],1)],1)},vt=[],ht={props:["stock"],data:function(){return{quantity:0}},computed:{insufficianQuantity:function(){return this.quantity>this.stock.quantity},rules:function(){return{quantity:!(this.quantity>this.stock.quantity)||"Not enough stocks"}}},methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])({placeSellOrder:"sellStock"})),{},{sellStock:function(){var t={stockId:this.stock.id,stockPrice:this.stock.price,quantity:this.quantity};this.placeSellOrder(t)}})},kt=ht,bt=(a("91a6"),Object(h["a"])(kt,mt,vt,!1,null,null,null)),gt=bt.exports;b()(bt,{VBtn:w["a"],VCard:H["a"],VCardActions:W["a"],VCol:Z["a"],VListItem:V["a"],VListItemContent:x["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VSpacer:T["a"],VTextField:st["a"]});var yt={props:["stock"],computed:Object(l["a"])({},Object(u["c"])({stocks:"stockPortfolio"})),components:{appStock:gt}},wt=yt,St=Object(h["a"])(wt,ft,pt,!1,null,null,null),Vt=St.exports;b()(St,{VRow:tt["a"]});var _t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",t._l(t.stocks,(function(t,e){return a("app-stock",{key:e,attrs:{stock:t}})})),1)],1)},xt=[],It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{cols:"12",lg:"4",xl:"4",md:"4",sm:"6"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",outlined:""}},[a("v-list-item",{staticClass:"stock-card-title",attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.stock.name))]),a("v-list-item-subtitle",[t._v("(Price: "+t._s(t.stock.price)+")")])],1)],1),a("v-card-actions",{staticClass:"align-center stock-card-actions py-8"},[a("v-text-field",{staticClass:"mr-4",attrs:{dense:"",type:"number",label:"Quantity",outlined:"",rules:[t.rules.money],"hide-details":"auto"},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}}),a("v-spacer"),a("v-btn",{staticClass:"ml-5",attrs:{raised:"",color:"indigo accent-1",disabled:t.insufficianFunds||t.quantity<=0||Number.isInteger(t.quantity)},on:{click:t.buyStock}},[t._v(" Buy ")])],1)],1)],1)},Tt=[],Ct={props:["stock"],data:function(){return{quantity:0}},computed:{funds:function(){return this.$store.getters.funds},insufficianFunds:function(){return this.quantity*this.stock.price>this.funds},rules:function(){return{money:this.quantity*this.stock.price<this.funds||"Insufficiant funds"}}},methods:{buyStock:function(){var t={stockId:this.stock.id,stockPrice:this.stock.price,quantity:parseInt(this.quantity)};this.$store.dispatch("buyStock",t),this.quantity=0}}},Ot=Ct,qt=(a("b004"),Object(h["a"])(Ot,It,Tt,!1,null,null,null)),Dt=qt.exports;b()(qt,{VBtn:w["a"],VCard:H["a"],VCardActions:W["a"],VCol:Z["a"],VListItem:V["a"],VListItemContent:x["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VSpacer:T["a"],VTextField:st["a"]});var Pt={components:{appStock:Dt},computed:{stocks:function(){return this.$store.getters.stocks}}},Lt=Pt,jt=Object(h["a"])(Lt,_t,xt,!1,null,null,null),Et=jt.exports;b()(jt,{VContainer:N["a"],VRow:tt["a"]}),s["a"].use(B["a"]);var Nt=[{path:"/",name:"home",component:dt},{path:"/portfolio",name:"Portfolio",component:Vt},{path:"/stocks",name:"Stocks",component:Et}],Rt=new B["a"]({routes:Nt,mode:"history"}),$t=Rt,Ut=(a("4160"),a("159b"),a("99af"),a("d3b7"),f.a.create({baseURL:"http://api.marketstack.com/v1/"})),At=f.a.create({baseURL:"https://stock-traders-9ed14.firebaseio.com/"}),Ft=function(){var t=new Date,e=new Date(t);e.setDate(t.getDate()-1);var a=e.getDate(),o=e.getMonth()+1,s=e.getFullYear();return a<10&&(a="0"+a),o<10&&(o="0"+o),"".concat(s,"-").concat(o,"-").concat(a)},Bt=Ft();function Mt(t,e){return new Promise((function(a,o){At.get("/eodData/today.json?auth="+e).then((function(s){console.log("1: ",t),s.data===Bt?(console.log("2: ",t),At.get("/eodData/stocks.json?auth="+e).then((function(e){if(console.log("3: ",t),e.data){console.log(e.data);var s=e.data;t=s,console.log("4: ",t),a(t)}else o("Error")}))):Ut.get("eod/latest?access_key=e1abe4c62d08f08ccf2d78af4ec6f86a&symbols=AAPL,AMZN,GOOGL,FB,INTC,ADBE,CSCO,NVDA,NFLX").then((function(s){if(s.data){var n=s.data.data;for(var r in n)t.push({id:r,name:n[r].symbol,price:n[r].close});var i={today:Bt,stocks:t};At.put("/eodData.json?auth="+e,i),a(t)}else o("Error")})).catch((function(t){console.log(t)}))}))}))}var Gt={stocks:[]},Kt={SET_STOCKS:function(t,e){t.stocks=e},RND_STOCKS:function(t){t.stocks.forEach((function(t){t.price=Math.round(t.price*(2.2*Math.random())+.5),t.price<5&&(t.price=5)}))}},Yt={buyStock:function(t,e){var a=t.commit;a("BUY_STOCK",e)},initStocks:function(t,e){var a=t.commit,o=[];Mt(o,e).then((function(t){console.log("stocksData",t),a("SET_STOCKS",t)}))},randomizeStocks:function(t){var e=t.commit;e("RND_STOCKS")}},zt={stocks:function(t){return t.stocks}},Qt={state:Gt,mutations:Kt,actions:Yt,getters:zt},Ht=(a("7db0"),a("c975"),a("d81d"),a("a434"),a("b0c0"),{funds:1e4,stocks:[]}),Wt={BUY_STOCK:function(t,e){var a=e.stockId,o=e.quantity,s=e.stockPrice,n=t.stocks.find((function(t){return t.id==a}));n?n.quantity+=parseInt(o):t.stocks.push({id:a,quantity:o}),t.funds-=s*o},SELL_STOCK:function(t,e){var a=e.stockId,o=e.quantity,s=e.stockPrice,n=t.stocks.find((function(t){return t.id==a}));n.quantity>o?n.quantity-=o:t.stocks.splice(t.stocks.indexOf(n),1),t.funds+=s*o},SET_PORTFOLIO:function(t,e){t.funds=e.funds,t.stocks=e.stockPortfolio?e.stockPortfolio:[]}},Zt={sellStock:function(t,e){var a=t.commit;a("SELL_STOCK",e)}},Jt={stockPortfolio:function(t,e){return t.stocks.map((function(t){var a=e.stocks.find((function(e){return e.id==t.id}));return{id:t.id,quantity:t.quantity,name:a.name,price:a.price}}))},funds:function(t){return t.funds}},Xt={state:Ht,mutations:Wt,actions:Zt,getters:Jt},te=(a("ac1f"),a("5319"),f.a.create({baseURL:"https://stock-traders-9ed14.firebaseio.com/"})),ee=f.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1"}),ae={idToken:null,userId:null,user:null},oe={authUser:function(t,e){t.userId=e.userId,t.idToken=e.token},storeUser:function(t,e){t.user=e},clearAuthData:function(t){console.log(t),t.idToken=null,t.userId=null,t.user=null}},se={setLogOutTimer:function(t,e){var a=t.dispatch;setTimeout((function(){a("logOut")}),1e3*e)},signIn:function(t,e){var a=t.commit,o=t.dispatch;ee.post("/accounts:signInWithPassword?key=AIzaSyBGn9NOG0B3Hi4Wb46RYbSe0ZGBeVOC7SE",{email:e.email,password:e.password,returnSecureToken:!0}).then((function(t){a("authUser",{token:t.data.idToken,userId:t.data.localId});var e=new Date,s=new Date(e.getTime()+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.idToken),localStorage.setItem("expiresionDate",s),localStorage.setItem("userId",t.data.localId),o("setLogOutTimer",t.data.expiresIn),o("loadData",{userId:t.data.localId,token:t.data.idToken}),o("initStocks",t.data.idToken)})).catch((function(t){return console.log(t)}))},signUp:function(t,e){var a=t.commit,o=t.dispatch;ee.post("/accounts:signUp?key=AIzaSyBGn9NOG0B3Hi4Wb46RYbSe0ZGBeVOC7SE",{email:e.email,password:e.password,returnSecureToken:!0}).then((function(t){console.log(t),a("authUser",{token:t.data.idToken,userId:t.data.localId});var s=new Date,n=new Date(s.getTime()+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.idToken),localStorage.setItem("expiresionDate",n),localStorage.setItem("userId",t.data.localId),o("storeUser",e),o("setLogOutTimer",t.data.expiresIn),o("initStocks",t.data.idToken)})).catch((function(t){return console.log(t)}))},storeUser:function(t,e){var a=t.state;a.idToken&&te.put("/users/"+a.userId+".json?auth="+a.idToken,e).then((function(t){console.log("storeUser: ",t)})).catch((function(t){console.log(t)}))},getUser:function(t){var e=t.commit,a=t.state;a.idToken&&te.get("/users.json?auth="+a.idToken).then((function(t){console.log(t);var a=t.data,o=[];for(var s in a){var n=a[s];n.id=s,o.push(n)}console.log(o),e("storeUser",o[0])})).catch((function(t){return console.log(t)}))},logOut:function(t){var e=t.commit;e("clearAuthData"),localStorage.removeItem("expirationDate"),localStorage.removeItem("token"),localStorage.removeItem("userId"),$t.replace("/signIn")},tryAutoLogIn:function(t){var e=t.commit,a=localStorage.getItem("token");if(a){var o=localStorage.getItem("expiresionDate"),s=new Date;if(!(s>=o)){var n=localStorage.getItem("userId");e("authUser",{token:a,userId:n})}}}},ne={user:function(t){return t.user?null:t.userId},token:function(t){return t.idToken},isAuthenticated:function(t){return null!==t.idToken}},re={state:ae,mutations:oe,actions:se,getters:ne},ie=function(t,e){var a=t.commit;console.log(e),f.a.get("users/"+e.userId+".json?auth="+e.token).then((function(t){if(t.data){var e=t.data,o=e.stocks.funds,s=e.stocks.stockPortfolio,n={funds:o,stockPortfolio:s};a("SET_PORTFOLIO",n)}})).catch((function(t){return console.log(t)}))};f.a.defaults.baseURL="https://stock-traders-9ed14.firebaseio.com/",s["a"].use(u["a"]);var ce=new u["a"].Store({actions:o,modules:{Stocks:Qt,Portfolio:Xt,Auth:re}});s["a"].config.productionTip=!1,s["a"].filter("currency",(function(t){return"$"+t.toLocaleString()})),new s["a"]({vuetify:F,router:$t,store:ce,render:function(t){return t(U)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var o=a("9c0c"),s=a.n(o);s.a},"5db4":function(t,e,a){"use strict";var o=a("8b86"),s=a.n(o);s.a},"644e":function(t,e,a){},6860:function(t,e,a){},"8b86":function(t,e,a){},"8baf":function(t,e,a){"use strict";var o=a("6860"),s=a.n(o);s.a},"91a6":function(t,e,a){"use strict";var o=a("d9f8"),s=a.n(o);s.a},"9c0c":function(t,e,a){},b004:function(t,e,a){"use strict";var o=a("644e"),s=a.n(o);s.a},d9f8:function(t,e,a){},fa31:function(t,e,a){"use strict";var o=a("4e67"),s=a.n(o);s.a}});
//# sourceMappingURL=app.5ff3f351.js.map